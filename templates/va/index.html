{% extends 'base.html' %}
{% load static %}
{% load compressed %}
{% block extralib %}
    <script>
        require([
            'va/app',
            'realtime/socket'
        ]);
    </script>
{% endblock %}
{% block extracss %}
	{% compressed_css 'cir_forum' %}
{% endblock %}
{% block header %}
	{% include 'header/va_header.html' %}
{% endblock %}

{% block body %}

<script type="text/javascript" src="http://public.tableau.com/javascripts/api/tableau-2.0.0.min.js"></script>


		<style>

path {
  stroke: white;
  stroke-width: 0.25px;
  fill: #E8E8E8;
}

.sel {
  width: 520px;
  height: 300px;
  float: left;
}


.tooltipsy {
  padding: 10px;
  max-width: 200px;
  color: #303030;
  background-color: #f5f5b5;
  border: 1px solid #deca7e;
}

			.row {
				clear:left;
			}

			/*loading*/
			.modal {
			    display:    none;
			    position:   fixed;
			    z-index:    1000;
			    top:        0;
			    left:       0;
			    height:     100%;
			    width:      100%;
			    background: rgba( 255, 255, 255, .8 ) 
			                url('http://sampsonresume.com/labs/pIkfp.gif') 
			                50% 50% 
			                no-repeat;
			}

			body.loadding {
			    overflow: hidden;   
			}

			body.loadding .modal {
			    display: block;
			}

			/*multiselect*/
			.multiselect-container-css {
				width: 800px;
			}

			/*threaded comments*/
			#container { 
			  display: block; 
			  width: 100%; 
			  background: #fff; 
			  padding: 0;
			}

			/* comments area */
			#comments { 
				display: block; 
				padding-left: 0px;
			}

			#comments .cmmnt, ul .cmmnt, ul ul .cmmnt { display: block; position: relative; padding-left: 65px; border-top: 1px solid #ddd; }

			#comments .cmmnt .avatar  { position: absolute; top: 8px; left: 0; }
			#comments .cmmnt .avatar img { 
			  -webkit-border-radius: 3px; 
			  -moz-border-radius: 3px; 
			  border-radius: 3px; 
			  -webkit-transition: all 0.4s linear;
			  -moz-transition: all 0.4s linear;
			  -ms-transition: all 0.4s linear;
			  -o-transition: all 0.4s linear;
			  transition: all 0.4s linear;
			}

			#comments .cmmnt .avatar a:hover img { opacity: 0.77; }

			#comments .cmmnt .cmmnt-content { padding: 0px 3px; padding-bottom: 12px; padding-top: 8px; }

			#comments .cmmnt .cmmnt-content header { display: block; margin-bottom: 8px; }
			#comments .cmmnt .cmmnt-content header .pubdate { color: #777; }
			#comments .cmmnt .cmmnt-content header .userlink { font-weight: bold; } 

			#comments .cmmnt .replies { 
				margin-bottom: 7px; 
				padding-left: 0;
			}

			.thread-container {
				position: fixed;
				max-height: 100%;
			    left: 1300px;
			    top: 50px;
				overflow-y: scroll;
				overflow-x: hidden;
				padding: 10px;
				right: 0;
			}

			.thread-container .ui-wrapper {
				width: 100% !important;
				padding-bottom: 0 !important;
			}

			/*map-visualization*/

			#car-chart .x.axis text {
			    text-anchor: end !important;
			    transform: rotate(-45deg);
			}

			.background.bar {
			  fill: #ccc;
			}

			.foreground.bar {
			  fill: steelblue;
			}

			.axis path, .axis line {
			  fill: none;
			  stroke: #000;
			  shape-rendering: crispEdges;
			}

			.axis text {
			  font: 10px sans-serif;
			}

			.brush rect.extent {
			  fill: steelblue;
			  fill-opacity: .125;
			}

			.brush .resize path {
			  fill: #eee;
			  stroke: #666;
			}

			#hour-chart {
			  width: 960px;
			}

			#date-chart {
			  width: 960px;
			}

			#car-chart {
			  width: 960px;
			}

			#mapContainer, #underMap {
				width: 960px;
				height: 560px;
			}

			#mapContainer div {
				display: inline-block;
				float: left;
			}
	</style>

		<div id="va-tabs" class="ui three item menu" style="width: 1280px;">
			<a class="item active">Trajectory</a>
			<a class="item">Spending</a>
			<a class="item">Placeholder</a>
		</div>
    	<div id="tableauViz" style="width:1280px;height:1000px;"></div>
		<div id="w" class="thread-container">

<!-- 		    <div style="display: block; position: relative; padding-left: 65px;">
		      	<div class="avatar" style="position: absolute; top: 8px; left: 0;"><a href="javascript:void(0);">
					<img src="{{ STATIC_URL }}/pictures/{{ user_id }}.png" width="55" height="55" alt="Image not found" onerror="this.onerror=null;this.src='{{ STATIC_URL }}/pictures/default-avatar.png';"/>
		      	</div>
		      	<div>
			      	<header><span id="user_name">{{ user_name }}</span></header>
			      	<textarea id="comment-textarea" rows="5" cols="20"></textarea>
		      	</div>
		    </div>

			
			<div style="margin-top:5px;">
				<button class="ui-button ui-widget ui-corner-all">post</button>
				<button class="ui-button ui-widget ui-corner-all">refer vis</button>
			</div> -->

			<div id="forum-comment"></div>
		</div>  

<div id="dialog-message" title="Log in first" style="display:none;">
	Please <a href='/'>[log in]</a> first to interact with the visualization and post comments
</div>

<!-- {% include 'chatter.html' %} -->

{% endblock %}

