<div class="ui top attached tabular menu">
    <div class="ui text menu activity-filter" style="margin:0;">
        <div class="header item">Activities</div>
        <a class="active item statement-candidate">
            Statements
        </a>
        <a class="active item statement-comment">
            Comments
        </a>
        <a class="item all-activity">
            All
        </a>
    </div>
</div>
{% if entries %}
<div class="ui feed" style="margin-top: 1em">
{% for entry in entries %}
    <div class="event" data-type="{{ entry.entry_type }}" data-id="{{ entry.id }}">
        <div class="user-initial" style="min-width: 4em;">
            <img src="{{ STATIC_URL }}/static/pictures/default-avatar.png" style="width:40px;"/>
        </div>
        <div class="activity-content content">
            {% if entry.is_deleted %}
                <div class="summary">
                    <a class="user {{ entry.author_role }}"
                       data-id="{{ entry.author_id }}">{{ entry.author_name }}</a>
                    <div class="date">updated <abbr
                            title="{{ entry.updated_at_full }}">{{ entry.updated_at }}</abbr></div>
                    [deleted]
                </div>
            {% elif entry.parent_name %}
                <div class="summary">
                    <a class="user {{ entry.author_role }}"
                       data-id="{{ entry.author_id }}">{{ entry.author_name }}</a> replied to <a
                        class="user">{{ entry.parent_name }}</a>
                    <div class="date"><abbr
                            title="{{ entry.updated_at_full }}">{{ entry.updated_at }}</abbr></div>
                </div>
                <div class="extra text">
                    {{ entry.content }}
                </div>
                <div class="ui red secondary post small menu">
                    <div class="right menu">
                        <a class="item feed-reply-entry" data-id="{{ entry.id }}">Reply</a>
                        <a class="item feed-delete-entry" data-id="{{ entry.id }}" style="display:none">Delete</a>
                    </div>
                </div>
            {% elif entry.entry_type == 'question' %}
                <div class="summary">
                    <a class="user {{ entry.author_role }}"
                       data-id="{{ entry.author_id }}">{{ entry.author_name }}</a> raised a question.
                    <div class="date"><abbr
                            title="{{ entry.updated_at_full }}">{{ entry.updated_at }}</abbr></div>
                </div>
                <div class="extra text">
                    {{ entry.content }}
                </div>
                <div class="ui red secondary post fitted menu">
                    <a class="item feed-reply-entry" data-id="{{ entry.id }}">Reply</a>
                    <a class="item feed-delete-entry" data-id="{{ entry.id }}"
                       style="display:none">Delete</a>
                </div>
            {% elif entry.entry_type == 'comment' %}
                <div class="summary">
                    {% if entry.collective %}
                        The panel reached a conclusion on this slot:
                    {% else %}
                        <a class="user {{ entry.author_role }}"
                           data-id="{{ entry.author_id }}">{{ entry.author_name }}</a> commented:
                    {% endif %}
                    <div class="date"><abbr
                            title="{{ entry.updated_at_full }}">{{ entry.updated_at }}</abbr></div>
                </div>
                <div class="extra text">
                    {{ entry.content }}
                </div>
                <div class="ui red secondary post small menu">
                    <div class="right menu">
                        <a class="item feed-reply-entry" data-id="{{ entry.id }}">Reply</a>
                        <a class="item feed-delete-entry" data-id="{{ entry.id }}" style="display:none">Delete</a>
                    </div>
                </div>
            {% elif entry.entry_type == 'slotassignment' %}
                <div class="summary">
                    {% if entry.action == 'add' %}
                        <a class="user {{ entry.author_role }}"
                           data-id="{{ entry.user_id }}">{{ entry.user_name }}</a> added nugget
                        N{{ entry.claim_id }} into this slot.
                    {% else %}
                        <a class="user {{ entry.author_role }}"
                           data-id="{{ entry.user_id }}">{{ entry.user_name }}</a> removed nugget
                        <div class="ui label">N{{ entry.claim_id }}</div> from this slot.
                    {% endif %}
                    <div class="date"><abbr
                            title="{{ entry.created_at_full }}">{{ entry.created_at }}</abbr></div>
                </div>
            {% endif %}
        </div>
    </div>
{% endfor %}
</div>
{% else %}
<div class="ui info message">No activities to show</div>
{% endif %}
